ACTIVER GZIP


1ère étape: editer le fichier /etc/nginx/mime.types

Nginx utilise le fichier mime.types pour décider s'il doit activer la compression au fichier qu'il s'apprête à servir. Ce fichier doit lister de manière exhaustive les MIME types. Les polices sont parfois absentes. Assurez vous donc que ces lignes soient bien présentes dans le fichier mime.types:

application/vnd.ms-fontobject    eot;
application/x-font-ttf    ttf;
font/opentype    ott;
font/x-woff    woff;

2nde étape: éditer le fichier /etc/nginx/nginx.conf

gzip on; # active la compression Gzip
gzip_disable "msie6"; 
 
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6; # 1 par défaut (le plus bas), 9 étant le plus élevé
gzip_buffers 16 8k;
gzip_http_version 1.1;
gzip_min_length 256; # taille minimale du fichier à compresser
gzip_types text/plain text/css application/json application/javascript application/x-javascript text/xml application/xml application/rss+xml text/javascript application/vnd.ms-fontobject application/x-font-ttf font/opentype image/jpeg image/png image/svg+xml image/x-icon; 
# la directive ci-dessus permet de lister les types de fichier à compresser

3ème étape: redémarrer le serveur et vérifier que tout fonctionne

En ligne de commande:

sudo nginx -t

Cette commande permet de vérifier la configuration de Nginx avant de le redémarrer. Si la console ne renvoit pas de message d'erreur passer à la commande suivante pour redémarrer le serveur.

sudo nginx -s reload


EXTENSION PHP
php-xml php-fileinfo php-sqlite php-json
